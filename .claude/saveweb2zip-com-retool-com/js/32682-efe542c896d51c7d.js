try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="df59b228-652c-4f56-8785-19e903b7edde",e._sentryDebugIdIdentifier="sentry-dbid-df59b228-652c-4f56-8785-19e903b7edde")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32682],{32682:(e,t,n)=>{"use strict";n.d(t,{AppHypertuneProvider:()=>H});var l=n(20324),r=n(4052),o=n(29896),a=n(57231),s=n.n(a),i=n(20634),c=n(66383);n(95132);let u="hypertuneToolbarButtonStyle",d="root",h="".concat(d,"."),f={getItem:e=>{try{return localStorage.getItem(e)}catch(e){return console.warn("Failed to access localStorage:",e),null}},setItem:(e,t)=>{try{localStorage.setItem(e,t)}catch(e){console.warn("Failed to write to localStorage:",e)}}};function p(e){let{showFlagPath:t,...n}=e,r=(0,c.useHypertune)();return t&&!r.getFlagValues({flagPaths:[t],flagFallbacks:i.Yw})[t]?null:(0,l.jsx)(g,{...n})}function g(e){let[t,n]=o.useState(!1),r=o.useRef(null),[a,s]=o.useState({x:0,y:0}),[i,c]=o.useState(void 0);o.useEffect(()=>{try{let e=f.getItem(u);if(!e)return;let t=JSON.parse(e);c(t)}catch(e){console.warn("Failed to load persisted style for Hypertune Toolbar:",e)}},[]);let d=o.useCallback(e=>{f.setItem(u,JSON.stringify(e))},[]);return o.useLayoutEffect(()=>{if(i)return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e);function e(){if(!i||i.left>=0&&window.innerWidth-124>=i.left&&i.top>=0&&window.innerHeight-42>=i.top)return;let e={position:"fixed",left:i.left<0?Math.min(4,window.innerWidth):window.innerWidth-124<i.left?Math.max(0,window.innerWidth-124):i.left,top:i.top<0?Math.min(4,window.innerHeight):window.innerHeight-42<i.top?Math.max(0,window.innerHeight-42):i.top};c(e),d(e)}},[c,d,i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hypertuneToolbarMainButtonBackground",children:(0,l.jsx)("button",{ref:r,type:"button",onClick:()=>n(!0),className:"hypertuneToolbarMainButton",draggable:!0,style:i,onDragStart:e=>{var t,n,l,o;let a=null==(n=r.current)||null==(t=n.getClientRects())?void 0:t[0];s({x:e.clientX-(null!=(l=null==a?void 0:a.left)?l:0),y:e.clientY-(null!=(o=null==a?void 0:a.top)?o:0)})},onDrag:e=>{e.preventDefault(),c({position:"fixed",top:e.clientY-a.y,left:e.clientX-a.x})},onDragEnd:e=>{e.preventDefault();let t={position:"fixed",top:e.clientY-a.y,left:e.clientX-a.x};c(t),d(t)},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},children:(0,l.jsx)(x,{})})}),t&&(0,l.jsx)(y,{...e,onClose:()=>n(!1)})]})}function y(e){var t,n,a,u;let{onClose:f,modalBackgroundClassName:p,modalClassName:g,headerClassName:y,mainClassName:m,flagClassName:H,flagNameContainerClassName:V,flagIconContainerClassName:j,flagNameClassName:N,flagValueContainerClassName:M,footerClassName:k,searchTextInputClassName:T,numberInputClassName:E,toggleClassName:L}=e,S=(0,c.useHypertune)(),F=(0,c.useSetOverride)(),D=o.useMemo(()=>{var e,t,n;return null!=(n=null==(t=S.props)||null==(e=t.context)?void 0:e.override)?n:{}},[null==(n=S.props)||null==(t=n.context)?void 0:t.override]),O=o.useMemo(()=>Object.fromEntries((function e(t,n){return Object.entries(n).flatMap(n=>{let[l,r]=n;return l.startsWith("__")||Array.isArray(r)?[]:"object"!=typeof r?[["".concat(t).concat(l),r]]:e("".concat(t).concat(l,"."),r)})})("",D).map(e=>{let[t,n]=e;return[t.substring(h.length),n]})),[D]),Z=o.useCallback((e,t)=>{var n;let l=JSON.parse(JSON.stringify((0,r.merge)(D,null!=(n=(0,r.getOverrideFromOverridesList)([["".concat(h).concat(e),t]]))?n:{})));if(!l||0===Object.keys(l).length)return void F(null);if(null===t){let t=[d,...e.split(".")],n=t.slice(0,-1).reduce((e,t)=>e[t],l);delete n[t[t.length-1]]}console.debug("Set flag override",{flag:e,value:t,currentOverride:D,newOverride:l}),F(l)},[F,D]),I=o.useCallback(()=>{F(null)},[F]),_=o.useMemo(()=>Object.keys(i.Yw),[]),A=o.useMemo(()=>S.getFlagValues({flagFallbacks:i.Yw,flagPaths:_}),[_,S]);console.debug("Flag overrides",{flagOverrides:O,override:null==(u=S.props)||null==(a=u.context)?void 0:a.override,flagPaths:_});let B=o.useRef(null);o.useEffect(()=>{var e;null==(e=B.current)||e.focus()},[]);let[Y,W]=o.useState("");return o.useEffect(()=>{function e(e){"Escape"===e.key&&(e.preventDefault(),f())}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[f]),(0,l.jsx)("div",{className:"hypertuneToolbarModalBackground ".concat(null!=p?p:""),onClick:f,onKeyDown:e=>{"Escape"===e.key&&f()},children:(0,l.jsxs)("div",{className:"hypertuneToolbarModal ".concat(null!=g?g:""),onClick:e=>e.stopPropagation(),onKeyDown:e=>{"Escape"===e.key&&f()},children:[(0,l.jsxs)("div",{className:"hypertuneToolbarHeader ".concat(null!=y?y:""),children:[(0,l.jsx)(C,{style:{marginRight:11}}),(0,l.jsx)("input",{ref:B,type:"text",placeholder:"Search for flags...",onChange:e=>W(e.target.value),value:Y,readOnly:!1,className:"hypertuneToolbarSearchTextInput ".concat(null!=T?T:"")}),(0,l.jsx)(v,{text:"Clear all overrides",disabled:0===Object.keys(O).length,onClick:I})]}),(0,l.jsx)("div",{className:"hypertuneToolbarMainContainer ".concat(null!=m?m:""),children:_.filter(e=>("boolean"==typeof A[e]||"number"==typeof A[e])&&(!Y||e.toLowerCase().includes(Y.toLowerCase()))).map(e=>(0,l.jsxs)("div",{className:"hypertuneToolbarFlag ".concat(null!=H?H:""),children:[(0,l.jsxs)("div",{className:"hypertuneToolbarFlagNameContainer ".concat(null!=V?V:""),children:[(0,l.jsx)("div",{className:"hypertuneToolbarFlagIconContainer ".concat(null!=j?j:""),children:(0,l.jsx)(b,{})}),(0,l.jsx)("p",{className:"hypertuneToolbarFlagName ".concat(null!=N?N:""),children:e.split(".").map(s()).join(" / ")})]}),(0,l.jsxs)("div",{className:"hypertuneToolbarFlagValueContainer ".concat(null!=M?M:""),children:[(0,l.jsx)("div",{style:{width:"100px"},children:void 0!==O[e]&&(0,l.jsx)(v,{text:"Clear override",onClick:()=>Z(e,null),style:{padding:"5px"}})}),"boolean"==typeof A[e]?(0,l.jsx)(w,{value:A[e],setValue:t=>Z(e,t),className:L}):"number"==typeof A[e]?(0,l.jsx)("input",{type:"number",readOnly:!1,value:A[e],onChange:t=>{if(""===t.target.value)return;let n=parseFloat(t.target.value);Number.isNaN(n)||Z(e,n)},className:"hypertuneToolbarNumberInput ".concat(null!=E?E:"")}):null]})]},"toolbar-flag".concat(e)))}),(0,l.jsx)("div",{className:"hypertuneToolbarFooter ".concat(null!=k?k:""),children:(0,l.jsx)(x,{})})]})})}function v(e){let{text:t,onClick:n,disabled:r,style:o}=e;return(0,l.jsx)("button",{type:"button",onClick:n,disabled:r,className:"hypertuneToolbarButton",style:o,children:t})}function w(e){let{value:t,setValue:n,className:r}=e;return(0,l.jsx)("button",{type:"button",role:"switch","aria-label":"Toggle","aria-checked":t,onClick:()=>null==n?void 0:n(!t),className:"hypertuneToolbarToggle ".concat(null!=r?r:""),children:(0,l.jsx)("span",{})})}function x(){return(0,l.jsxs)("svg",{height:20,viewBox:"0 0 102 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{width:"20",height:"20",rx:"6",fill:"#22252b"}),(0,l.jsx)("rect",{x:"4.58057",y:"15.4192",width:"15.7583",height:"0.9375",rx:"0.46875",transform:"rotate(-45 4.58057 15.4192)",fill:"white"}),(0,l.jsx)("rect",{x:"11.0205",y:"15.5327",width:"6.71895",height:"0.9375",rx:"0.46875",transform:"rotate(-45 11.0205 15.5327)",fill:"white"}),(0,l.jsx)("rect",{x:"4.375",y:"6.875",width:"2.5",height:"2.5",rx:"1.25",transform:"rotate(-90 4.375 6.875)",fill:"white"}),(0,l.jsx)("path",{d:"M29.162 15V4.794H31.458V8.854H35.686V4.794H37.968V15H35.686V10.8H31.458V15H29.162ZM39.6749 17.338V15.658H42.3349V14.188L39.3669 7.482H41.6069L43.1189 11.528L43.3429 12.242H43.4269L43.6509 11.528L45.2049 7.482H47.4449L44.4769 14.188V15.966C44.4769 16.904 43.9029 17.338 43.0349 17.338H39.6749ZM48.6538 17.338V7.482H50.6978L50.8098 8.588H50.9078C51.2718 7.804 52.1258 7.342 53.1198 7.342C55.1358 7.342 56.0038 8.812 56.0038 11.094V11.416C56.0038 14.02 54.8838 15.14 53.1198 15.14C52.1398 15.14 51.2858 14.678 50.9078 13.894H50.8098V17.338H48.6538ZM52.2518 13.39C53.1758 13.39 53.7078 12.844 53.7078 11.892V10.604C53.7078 9.652 53.1758 9.092 52.2518 9.092C51.3698 9.092 50.8238 9.666 50.8238 10.632V11.864C50.8238 12.83 51.3698 13.39 52.2518 13.39ZM60.6925 15.14C58.1865 15.14 56.9685 13.586 56.9685 11.262V11.136C56.9685 8.7 58.4105 7.342 60.5245 7.342C62.8205 7.342 64.1225 8.742 64.1225 10.828V11.78H59.1525V12.172C59.1525 12.984 59.7545 13.502 60.6225 13.502C61.3925 13.502 61.9105 13.138 62.0085 12.578H64.0385C63.9545 14.104 62.5965 15.14 60.6925 15.14ZM59.1525 10.38V10.45H62.0085V10.38C62.0085 9.372 61.4345 8.938 60.5945 8.938C59.6985 8.938 59.1525 9.456 59.1525 10.38ZM72.9016 15C71.6976 15 71.2356 14.328 71.2356 13.334V5.13H73.3916V7.482H75.2536V9.218H73.3916V13.32H75.1556V15H72.9016ZM65.5796 15V9.148C65.5796 8.126 66.2516 7.482 67.2456 7.482H70.3116V9.218H67.7356V15H65.5796ZM79.1439 15.14C77.4779 15.14 76.6659 13.95 76.6659 12.158V7.482H78.8079V11.85C78.8079 13.04 79.3259 13.404 80.1239 13.404C81.0759 13.404 81.5659 12.718 81.5659 11.682V7.482H83.7079V15H81.7059L81.5519 13.768H81.4399C81.1039 14.594 80.2499 15.14 79.1439 15.14ZM85.5952 15V7.482H87.5972L87.7512 8.714H87.8772C88.1992 7.888 89.0252 7.342 90.1032 7.342C91.7132 7.342 92.7072 8.28 92.7072 10.394V15H90.5652V10.674C90.5652 9.47 90.0332 9.092 89.2212 9.092C88.2412 9.092 87.7512 9.778 87.7512 10.828V15H85.5952ZM97.8253 15.14C95.3193 15.14 94.1013 13.586 94.1013 11.262V11.136C94.1013 8.7 95.5433 7.342 97.6573 7.342C99.9533 7.342 101.255 8.742 101.255 10.828V11.78H96.2853V12.172C96.2853 12.984 96.8873 13.502 97.7553 13.502C98.5253 13.502 99.0433 13.138 99.1413 12.578H101.171C101.087 14.104 99.7293 15.14 97.8253 15.14ZM96.2853 10.38V10.45H99.1413V10.38C99.1413 9.372 98.5673 8.938 97.7273 8.938C96.8313 8.938 96.2853 9.456 96.2853 10.38Z",fill:"#22252b"})]})}function b(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"white",viewBox:"0 0 256 256",children:(0,l.jsx)("path",{d:"M42.76,50A8,8,0,0,0,40,56V224a8,8,0,0,0,16,0V179.77c26.79-21.16,49.87-9.75,76.45,3.41,16.4,8.11,34.06,16.85,53,16.85,13.93,0,28.54-4.75,43.82-18a8,8,0,0,0,2.76-6V56A8,8,0,0,0,218.76,50c-28,24.23-51.72,12.49-79.21-1.12C111.07,34.76,78.78,18.79,42.76,50ZM216,172.25c-26.79,21.16-49.87,9.74-76.45-3.41-25-12.35-52.81-26.13-83.55-8.4V59.79c26.79-21.16,49.87-9.75,76.45,3.4,25,12.35,52.82,26.13,83.55,8.4Z"})})}function C(e){let{style:t}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#7A8396",viewBox:"0 0 256 256",style:t,children:(0,l.jsx)("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}var m=n(37811);function H(e){let{serverDehydratedState:t,serverRootArgs:n,children:o}=e;return(0,l.jsxs)(c.HypertuneProvider,{createSourceOptions:{token:"U2FsdGVkX18iW1iSFDYs0NCzu//jYMW749w+r1czYb0=",branchName:m.env.HYPERTUNE_BRANCH_NAME,logsHandler:e=>{e.messageList.forEach(e=>{let{level:t,message:n,metadata:l}=e;t===r.LogLevel.Warn&&console.warn(n,l),t===r.LogLevel.Error&&console.error(n,l)})},shouldRefreshInitData:!1},dehydratedState:t,rootArgs:n,children:[o,(0,l.jsx)(p,{showFlagPath:"showHypertuneToolbar"})]})}},95132:()=>{}}]);